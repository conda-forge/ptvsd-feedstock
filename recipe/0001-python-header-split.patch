From 819a815c9bec459a59e934f8985ab825be154fb6 Mon Sep 17 00:00:00 2001
From: Sylvain Corlay <sylvain.corlay@gmail.com>
Date: Tue, 18 Aug 2020 02:21:40 +0200
Subject: [PATCH] python header split

---
 .../pydevd/_pydevd_frame_eval/pydevd_frame_evaluator.c     | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/src/ptvsd/_vendored/pydevd/_pydevd_frame_eval/pydevd_frame_evaluator.c b/src/ptvsd/_vendored/pydevd/_pydevd_frame_eval/pydevd_frame_evaluator.c
index 9f70de6..26ec857 100644
--- a/src/ptvsd/_vendored/pydevd/_pydevd_frame_eval/pydevd_frame_evaluator.c
+++ b/src/ptvsd/_vendored/pydevd/_pydevd_frame_eval/pydevd_frame_evaluator.c
@@ -18,6 +18,10 @@
 }
 END: Cython Metadata */
 
+#if PY_VERSION_HEX >= 0x03080000
+#define Py_BUILD_CORE 1
+#endif
+
 #define PY_SSIZE_T_CLEAN
 #include "Python.h"
 #ifndef Py_PYTHON_H
@@ -615,6 +619,9 @@ static CYTHON_INLINE float __PYX_NAN() {
 #include "release_mem.h"
 #include "code.h"
 #include "pystate.h"
+#if PY_VERSION_HEX >= 0x03080000
+#include "internal/pycore_pystate.h"
+#endif
 #include "ceval.h"
 #ifdef _OPENMP
 #include <omp.h>
-- 
2.28.0

